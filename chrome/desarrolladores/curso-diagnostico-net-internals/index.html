<!doctype html><html lang=es class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Adrià Vilanova Martínez (@avm99963)"><link href=https://support.avm99963.com/chrome/desarrolladores/curso-diagnostico-net-internals/ rel=canonical><link href=../vida-de-una-url-request/ rel=prev><link href=../../../gmail/cambiar-idioma/ rel=next><link rel=icon href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.4.2, mkdocs-material-9.0.6"><title>Un curso rápido sobre diagnóstico de problemas con chrome://net-internals - support.avm99963.com</title><link rel=stylesheet href=../../../assets/stylesheets/main.558e4712.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.2505c338.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../css/styles.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary data-md-color-accent> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#un-curso-rapido-sobre-diagnostico-de-problemas-con-chromenet-internals class=md-skip> Saltar a contenido </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Cabecera> <a href=../../.. title=support.avm99963.com class="md-header__button md-logo" aria-label=support.avm99963.com data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M11 18h2v-2h-2v2m1-12a4 4 0 0 0-4 4h2a2 2 0 0 1 2-2 2 2 0 0 1 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5a4 4 0 0 0-4-4M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2Z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> support.avm99963.com </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Un curso rápido sobre diagnóstico de problemas con chrome://net-internals </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Búsqueda placeholder=Búsqueda autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Limpiar aria-label=Limpiar tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Inicializando búsqueda </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/avm99963/support.avm99963.com title="Ir al repositorio" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> avm99963/support.avm99963.com </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navegación data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title=support.avm99963.com class="md-nav__button md-logo" aria-label=support.avm99963.com data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M11 18h2v-2h-2v2m1-12a4 4 0 0 0-4 4h2a2 2 0 0 1 2-2 2 2 0 0 1 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5a4 4 0 0 0-4-4M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2Z"/></svg> </a> support.avm99963.com </label> <div class=md-nav__source> <a href=https://github.com/avm99963/support.avm99963.com title="Ir al repositorio" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> avm99963/support.avm99963.com </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> Sobre esta web </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_2 type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2 tabindex=0 aria-expanded=true> Chrome <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Chrome data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Chrome </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../malware/ class=md-nav__link> Malware en Chrome </a> </li> <li class=md-nav__item> <a href=../../diagnostico-extensiones/ class=md-nav__link> Inhabilitar extensiones de Chrome </a> </li> <li class=md-nav__item> <a href=../../no-carga-paginas-web/ class=md-nav__link> Chrome no carga páginas web </a> </li> <li class=md-nav__item> <a href=../../version/ class=md-nav__link> ¿Qué versión de Chrome tengo? </a> </li> <li class=md-nav__item> <a href=../../canales/ class=md-nav__link> Canales de Chrome </a> </li> <li class=md-nav__item> <a href=../../error-certificado/ class=md-nav__link> Error con certificado </a> </li> <li class=md-nav__item> <a href=../../mostrar-flags-antiguas/ class=md-nav__link> Volver a mostrar flags antiguas </a> </li> <li class=md-nav__item> <a href=../../fondo-meet/ class=md-nav__link> Solucionar problemas con las imágenes de fondo de Meet </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_2_9 type=checkbox id=__nav_2_9> <label class=md-nav__link for=__nav_2_9 tabindex=0 aria-expanded=false> Traducciones <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Traducciones data-md-level=2> <label class=md-nav__title for=__nav_2_9> <span class="md-nav__icon md-icon"></span> Traducciones </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../traducciones/descarte-recarga-pestanas/ class=md-nav__link> Descarte y recarga de pestañas </a> </li> <li class=md-nav__item> <a href=../../traducciones/ataques-locales-chrome/ class=md-nav__link> Ataques locales en Chrome </a> </li> <li class=md-nav__item> <a href=../../traducciones/limpiador-de-chrome/ class=md-nav__link> Gracias y adiós al Limpiador de Chrome </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_2_10 type=checkbox id=__nav_2_10 checked> <label class=md-nav__link for=__nav_2_10 tabindex=0 aria-expanded=true> Para desarrolladores <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Para desarrolladores" data-md-level=2> <label class=md-nav__title for=__nav_2_10> <span class="md-nav__icon md-icon"></span> Para desarrolladores </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../biseccion/ class=md-nav__link> Hacer una bisección de Chrome </a> </li> <li class=md-nav__item> <a href=../vida-de-una-url-request/ class=md-nav__link> Vida de un objeto URLRequest </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Un curso rápido sobre diagnóstico de problemas con chrome://net-internals <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Un curso rápido sobre diagnóstico de problemas con chrome://net-internals </a> <nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Tabla de contenidos </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#que-informacion-contiene-net-internals class=md-nav__link> Qué información contiene Net-Internals </a> </li> <li class=md-nav__item> <a href=#eventos-versus-fuentes class=md-nav__link> Eventos versus fuentes </a> </li> <li class=md-nav__item> <a href=#tipos-de-fuentes-comunes class=md-nav__link> Tipos de fuentes comunes </a> </li> <li class=md-nav__item> <a href=#diagnostico class=md-nav__link> Diagnóstico </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_3 type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 tabindex=0 aria-expanded=false> Gmail <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Gmail data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Gmail </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../gmail/cambiar-idioma/ class=md-nav__link> Cambiar el idioma de Gmail </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " data-md-toggle=__nav_4 type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 tabindex=0 aria-expanded=false> Miscelánea <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Miscelánea data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Miscelánea </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../misc/captura-pantalla-foros-google/ class=md-nav__link> Cómo insertar una captura de pantalla en los Foros de Google </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Tabla de contenidos </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#que-informacion-contiene-net-internals class=md-nav__link> Qué información contiene Net-Internals </a> </li> <li class=md-nav__item> <a href=#eventos-versus-fuentes class=md-nav__link> Eventos versus fuentes </a> </li> <li class=md-nav__item> <a href=#tipos-de-fuentes-comunes class=md-nav__link> Tipos de fuentes comunes </a> </li> <li class=md-nav__item> <a href=#diagnostico class=md-nav__link> Diagnóstico </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=un-curso-rapido-sobre-diagnostico-de-problemas-con-chromenet-internals>Un curso rápido sobre diagnóstico de problemas con chrome://net-internals<a class=headerlink href=#un-curso-rapido-sobre-diagnostico-de-problemas-con-chromenet-internals title="Permanent link">&para;</a></h1> <p>Este documento es una traducción del siguiente documento: <a href=https://chromium.googlesource.com/chromium/src/+/71f386b74676de71601fd8d2472a12ca3bfa0ce9/net/docs/crash-course-in-net-internals.md>A Crash Course in Debugging with chrome://net-internals - The Chromium Project (24/03/2020)</a></p> <p>La versión más actualizada del documento (en inglés) se puede encontrar <a href=https://chromium.googlesource.com/chromium/src/+/HEAD/net/docs/crash-course-in-net-internals.md>aquí</a>.</p> <hr> <p>Este documento tiene como objetivo ayudar a la gente a empezar a diagnosticar problemas de red con <code>chrome://net-internals</code>, con algunos consejos y trucos comunmente útiles. Este documento está encarado más a explicar cómo empezar a usar algunas de las funciones para investigar informes de errores, más que como una vista general de la función.</p> <p>Probablemente sería útil leer <a href=../vida-de-una-url-request/ >vida-de-una-url-request.md</a> antes de este documento.</p> <h2 id=que-informacion-contiene-net-internals>Qué información contiene Net-Internals<a class=headerlink href=#que-informacion-contiene-net-internals title="Permanent link">&para;</a></h2> <p><code>chrome://net-internals</code> proporciona una vista de la actividad del navegador desde la perspectiva de <code>net/</code>. Por esta razón, le falta información sobre las pestañas, la navegación, los <em>frames</em>, los tipos de recursos, etc.</p> <p>La columna de la izquierda del todo presenta una lista de vistas. La mayoría del diagnóstico se hace con la vista <strong>Eventos</strong>, que será todo lo cubre este documento.</p> <p>El objeto de máximo nivel de la pila de red es el <code>URLRequestContext</code>. La vista Eventos tiene información sobre todos los <code>URLRequestContexts</code> de Chrome que están acoplados a un objeto Netlog único y global. Esto incluye ambos los perfiles de incógnito y no incógnito, a parte de otras cosas. La vista Eventos muestra solo los eventos durante el periodo que net-internals estaba abierto y corriendo. El código intenta añadir un evento arriba del todo para los <code>URLRequests</code> que estaban activos cuando la pestaña <code>chrome://net-internals</code> fue abierta, para ayudar a diagnosticar peticiones colgadas, pero eso es solo de máximo esfuerzo, y solo incluye peticiones para el perfil actual y el <code>URLRequestContext</code> del sistema.</p> <p>Las otras vistas son todas instantáneas del estado actual de los componentes principales de <code>URLRequestContext</code>. Estos mostrarán objetos que fueron creados antes de que <code>chrome://net-internals</code> fuera abierto.</p> <h2 id=eventos-versus-fuentes>Eventos versus fuentes<a class=headerlink href=#eventos-versus-fuentes title="Permanent link">&para;</a></h2> <p>La vista Eventos muestra <strong>eventos</strong> registrados por <code>NetLog</code>. El modelo de <code>NetLog</code> es que los objetos de la pila de red duraderos, llamados <strong>fuentes</strong>, emiten eventos durante su vida. Un objeto <code>NetLogWithSource</code> contiene un ID de fuente, un <code>NetLogSourceType</code>, y un puntero al <code>NetLog</code> al que la fuente emite sus eventos.</p> <p>La vista Eventos tiene una lista de las fuentes en una columna adyacente a la columna de la lista de vistas. Las fuentes que incluyen un evento con un parámetro <code>net_error</code> con valor negativo (esto es, algún tipo de ERR_) se muestran con fondo rojo. Las fuentes cuyos eventos de abertura todavía no hayan acabado se muestran con un fondo blanco. Las otras fuentes tienen fondos verdes. Los términos de búsqueda correspondientes a los dos primeros tipos son <code>is:error</code> y <code>is:active</code>.</p> <p>Cuando una o más fuentes están seleccionadas, los eventos correspondientes se muestran en otra columna a la derecha, ordenados por fuente, y por tiempo dentro de cada fuente. Hay dos valores del tiempo: <code>t</code> se mide desde algún punto de referencia común a todas las fuentes, y <code>st</code> se mide desde el primer evento para cada fuente. El tiempo se muestra en milisegundos.</p> <p>Como la pila de red es asíncrona, los eventos de las diferentes fuentes suelen estar entremezcladas durante el tiempo, pero la vista Eventos no ofrece la función de mostrar los eventos de diferentes fuentes ordenados por tiempo. Esacios de tiempo grande en la lista de eventos de una sola fuente normalmente significa que el tiempo se está gastando en el contexto de otra fuente.</p> <p>Algunos eventos vienen en parejas: un evento de inicio y otro de fin, entre los cuales pueden ocurrir otros eventos. Se muestran con los prefijos <code>+</code> y <code>-</code> respectivamente. El evento de inicio tiene un valor <code>dt</code> que muestra la duración. Si el evento de fin fue capturado, entonces la duración se calcula como la diferencia de tiempo entre los eventos de inicio y fin. Si no, se trata del tiempo que ha pasado desde el evento de inicio hasta que se paró la captura de datos (es una cota inferior para la duración real), seguido por un signo <code>+</code> (por ejemplo, <code>dt=120+</code>).</p> <p>Si no hay otros eventos entre medio del de inicio y el de fin, y el evento de fin no tiene parámetros, entonces colapsan en una única línea que no tiene signos de prefijo.</p> <p>Otros eventos solo ocurren en un solo momento en el tiempo, y no tendrán ningún signo de prefijo o un valor de duración <code>dt</code>.</p> <p>Generalmente solo puede ocurrir un evento a la vez para una fuente en un instante de tiempo. Si pueden haber varios eventos haciendo cosas completamente independientes, el código a menudo usará nuevas fuentes para representar el paralelismo.</p> <p>La mayoría de eventos, pero no todos ellos, corresponden a una fuente. Las excepciones son eventos globales, que no tienen ningúna fuente y se muestran como entradas individuales en la lista de fuentes. Ejemplos de eventos globales incluyen <code>NETWORK_CHANGED</code>, <code>DNS_CONFIG_CHANGED</code> y <code>PROXY_CONFIG_CHANGED</code>.</p> <h2 id=tipos-de-fuentes-comunes>Tipos de fuentes comunes<a class=headerlink href=#tipos-de-fuentes-comunes title="Permanent link">&para;</a></h2> <p>Las <strong>fuentes</strong> corresponden a ciertos objetos de <code>net</code>, aunque muchas veces múltiples capas de <code>net/</code> se registrarán como una sola fuente. Aquí hay los principales tipos de fuentes y lo que incluyen (excluyendo HTTP2 [SPDY]/QUIC):</p> <ul> <li> <p><strong><code>URL_REQUEST</code></strong>: Corresponde al objeto <code>URLRequest</code>. Incluye eventos de todas las implementaciones de <code>URLRequestJobs</code>, <code>HttpCache::Transactions</code>, <code>NetworkTransactions</code>, <code>HttpStreamRequests</code>, <code>HttpStream</code> y <code>HttpStreamParsers</code> usados para atender una respuesta. Si <code>URL_REQUEST</code> sigue redirecciones HTTP, incluirá cada redirección. Esto es mucha cosa, pero generalmente solo un objeto está trabajando a la vez. Esta fuente de eventos incluye la URL entera y generalmente incluye las cabeceras de la petición y la respuesta (exceptuando cuando la caché gestiona la respuesta).</p> </li> <li> <p><strong><code>HTTP_STREAM_JOB</code></strong>: Corresponde al <code>HttpStreamFactory::Job</code> (nótese que una petición puede tener múltiples <em>jobs</em>). También incluye las consultas de DNS y proxy. Los eventos registrados de <code>HTTP_STREAM_JOB</code> están separados de <code>URL_REQUEST</code> porque dos <em>stream jobs</em> podrían ser creados y realizarse a la vez, en algunos casos -- uno para QUIC y uno para HTTP.</p> <p>Uno de los eventos finales de esta fuente, antes del evento <code>HTTP_STREAM_JOB_BOUND_TO_REQUEST</code>, indica cómo se creó un <code>HttpStream</code>:</p> <ul> <li> <p>Un evento <code>SOCKET_POOL_BOUND_TO_CONNECT_JOB</code> significa que un nuevo <em>socket</em> TCP fue creado, mientras que un evento <code>SOCKET_POOL_REUSED_AN_EXISTING_SOCKET</code> indica que un <em>socket</em> TCP existente fue reusado para una petición que no sea HTTP/2.</p> </li> <li> <p>Un evento <code>HTTP2_SESSION_POOL_IMPORTED_SESSION_FROM_SOCKET</code> indica que una nueva sesión HTTP/2 fue abierta por este <em>job</em>.</p> </li> <li> <p>Un evento <code>HTTP2_SESSION_POOL_FOUND_EXISTING_SESSION</code> indica que la petición fue realizada en una sesión HTTP/2 preexistente.</p> </li> <li> <p>Un evento <code>HTTP2_SESSION_POOL_FOUND_EXISTING_SESSION_FROM_IP_POOL</code> significa que la petición fue añadida a la piscina de una sesión HTTP/2 preexistente que tenía una <code>SpdySessionKey</code> diferente, pero que la resolución DNS resultó en la misma IP y el certificado coincide.</p> </li> <li> <p>Actualmente no se registran eventos cuando se abren nuevas sesiones QUIC o se reusan sesiones existentes.</p> </li> </ul> </li> <li> <p><strong><code>*_CONNECT_JOB</code></strong>: Corresponde a las subclases de <code>ConnectJob</code> que usan cada piscina de <em>sockets</em>. Un <code>CONNECT_JOB</code> satisfactorio devuelve un <code>SOCKET</code>. Los eventos aqí varían un montón dependiendo del tipo de <em>job</em>. Su principal evento es generalmente crear un <em>socket</em> o pedir un <em>socket</em> de otra piscinas de <em>sockets</em> (lo que crea otro <code>CONNECT_JOB</code>) y luego realizar un poco de trabajo adicional encima de eso -- como por ejemplo establecer una conexión SSL encima de una conexión TCP.</p> </li> <li> <p><strong><code>SOCKET</code></strong>: Corresponden a los <code>TCPSockets</code>, pero podrían tener otras clases puestas encima de ellas (como un <code>SSLClientSocket</code>). Esta clase es un poco diferente deque las otras, ya que el nombre corresponde a la clase de arriba del todo en vez de la de abajo del todo. Esto es así por el hecho que el <em>socket</em> se crea primero, y después el <code>SSL</code> (o una conexión proxy) se pone encima de él. Los <em>sockets</em> pueden ser reutilizados entre múltiples peticiones, y una petición podría acabar cogiendo el <em>socket</em> creado por otra petición.</p> </li> <li> <p><strong><code>HOST_RESOLVER_IMPL_JOB</code></strong>: Corresponden a <code>HostResolverImpl::Job</code>. Incluyen información sobre durante cuánto tiempo se puso en cola una consulta, cada consulta DNS que se intentó (con la plataforma o el resolvedor incorporado) y todas las otras fuentes que están esperando al <em>job</em>.</p> </li> </ul> <p>Cuando una fuente depende en otra, el código generalmente registra un evento a las dos fuentes con un valor <code>source_dependency</code> apuntando a la otra fuente. Estos valores se pueden clicar en la interfaz, añadiendo la fuente referida a la lista de fuentes seleccionadas.</p> <h2 id=diagnostico>Diagnóstico<a class=headerlink href=#diagnostico title="Permanent link">&para;</a></h2> <p>Cuando recibes un informe de un usuario, la primera cosa que generalmente querrás encontrar es los <code>URL_REQUEST[s]</code> que están funcionando mal. Si el usuario da un código <code>ERR_*</code> o la URL exacta del recurso que no carga, puedes buscarlo directamente. Si es una subida, puedes buscar <code>post</code>, y si es un problema con redirecciones, puedes buscar <code>redirect</code>. Aun así, a menudo no tendrás mucha información sobre el problema. Hay dos filtros en <em>net-internals</em> que te ayudarán en muchos casos:</p> <ul> <li> <p><code>type:URL_REQUEST is:error</code> restringirá al lista de fuentes a objetos <code>URL_REQUEST</code> que tengan algún tipo de error. Los errores de caché no son fatales a menudo, así que generalmente los puedes ignorar, y buscar otros más interesantes.</p> </li> <li> <p><code>type:URL_REQUEST sort:duration</code> mostrará las peticiones ordenadas por duración. Esto es útil a menudo para encontrar peticiones que se han colgado o que son lentas.</p> </li> </ul> <p>Para una lista de otros comandos de filtrado, puedes poner el ratón encima del interrogante al lado del campo de búsqueda.</p> <p>Una vez encuentras la petición problemática, lo siguiente es encontrar dónde está el problema -- a menudo es uno de los últimos eventos, aunque también podría estar relacionado con las cabeceras de la respuesta o la petición. Puedes usar los enlaces <code>source_dependency</code> para navegar entre fuentes relacionadas. Puedes usar el nombre de un evento para buscar el código responsable de ese evento, e intentar deducir qué fue mal antes o después de un evento particular.</p> <p>Algunas cosas que puedes buscar mientras estás diagnosticando el problema:</p> <ul> <li> <p>Los eventos <code>CANCELLED</code> casi siempre vienen de fuera de la pila de red.</p> </li> <li> <p>Cambiar de redes o entrar o salir del modo suspender puede tener un montón de efectos divertidos en la actividad de red. Cambios de red registran un evento <code>NETWORK_CHANGED</code>. Los eventos de suspender no se registran actualmente.</p> </li> <li> <p>Los eventos <code>URL_REQUEST_DELEGATE_\*</code>, <code>NETWORK_DELEGATE_\*</code> y <code>DELEGATE_INFO</code> significanque una <code>URL_REQUEST</code> está bloqueada por un <code>URLRequest::Delegate</code> o el <code>NetworkDelegate</code>, que están implementados fuera de la pila de red. Una petición a veces se cancelará aquí por razones que solo conce el <em>delegate</em>. O el delegado podría causar un cuelgue. En general, para diagnosticar problemas relacionados con delegados, uno necesita descubrir qué método de qué objeto está causando el problema. El objeto podría ser un <code>NetworkDelegate</code>, un <code>ResourceThrottle</code>, un <code>ResourceHandler</code>, el <code>ResourceLoader</code> mismo, o el <code>ResourceDispatcherHost</code>.</p> </li> <li> <p>Los <em>sockets</em> son a menudo reusados entre peticiones. Si una petición está en un <em>stale socket</em> (<em>socket</em> reusado), ¿cuál fue la petición anterior que usó el <em>socket</em>, y hace cuánto que se realizó? (Echa un vistazo a los eventos <code>SOCKET_IN_USE</code>, y los <code>HTTP_STREAM_JOBS</code> a los cuales apuntan a través del valor <code>source_dependency</code>.)</p> </li> <li> <p>La negociación SSl es un proceso lleno de peligros, particularmente con proxies rotos. Estos generalmente se detienen o fallan en la fase <code>SSL_CONNECT</code> en la capa <code>SOCKET</code>.</p> </li> <li> <p>Solicitudes de rango (<em>range</em>) tienen magia para gestionarlos al nivel de la caché, y a menudo son creados por código de multimedia o PDF.</p> </li> <li> <p>Enlace tardío: Los <code>HTTP_STREAM_JOBs</code> no se asocian con ningún <code>CONNECT_JOB</code> hasta que un <code>CONNECT_JOB</code> se conecta. Esto es así para que el <code>HTTP_STREAM_JOB</code> pendiente de más alta prioridad coge el primer <em>socket</em> disponible (que puede ser un nuevo <em>socket</em> o un viejo que ya está disponible). Por esta razón, puede ser difícil relacionar <code>HTTP_STREAM_JOBs</code> que se han colgado con <code>CONNECT_JOBs</code>.</p> </li> <li> <p>Cada <code>CONNECT_JOB</code> pertenece a un "grupo", que tiene un límite de 6 conexiones. Si todos los <code>CONNECT_JOBs</code> que pertenecen a un grupo (el campo de descripción del <code>CONNECT_JOB</code>) se han parado esperando a un <em>socket</em> disponible, el grupo problemente tiene 6 <em>sockets</em> que se han colgado -- ya sea intentando conectarse, o usados por peticiones que se han parado y por tanto fuera del control de la piscina de <em>sockets</em>.</p> </li> <li> <p>Hay un límite en el número de resoluciones DNS que se pueden empezar a la vez. Si todo se ha parado mientras se resuelven direcciones DNS, probablemente has llegado a este límite, y las consultas DNS se están comportando mal también de alguna manera.</p> </li> </ul> <h1 id=miscelanea>Miscelánea<a class=headerlink href=#miscelanea title="Permanent link">&para;</a></h1> <p>Estas son solo cosas misceláneas que puedes notar mientras miras el registro de eventos.</p> <ul> <li> <p>Las <code>URLRequests</code> que parecen empezar dos veces por ningún motivo aparente. Estas son típicamente peticiones de un <em>frame</em> principal, y la primera petición es AppCache. Puedes ignorar la primera y seguir viviendo.</p> </li> <li> <p>Algunas peticiones HTTP no se gestionan por <code>URLRequestHttpJobs</code>. Estas incluyen cosas como redirecciones HSTS (<code>URLRequestRedirectJob</code>), AppCache, ServiceWorker, etc. Estas generalmente no registran tanta información, así que puede ser difícil saber qué está pasando con estas.</p> </li> <li> <p>Peticiones no HTTP pueden aparecer también en el registro, y generalmente no registran mucha información (URLs blob, URLs chrome, etc).</p> </li> <li> <p>Las preconexiones crean un evento <code>HTTP_STREAM_JOB</code> que podría crear múltiples <code>CONNECT_JOBs</code> (o ninguno) y después es destruído. Estos se pueden identificar por los eventos <code>SOCKET_POOL_CONNECTING_N_SOCKETS</code>.</p> </li> </ul> <hr> <div class=md-source-file> <small> Última actualización: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="12 de mayo de 2020 20:17:33">12 de mayo de 2020</span> </small> </div> </article> </div> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; Adrià Vilanova Martínez. Except as otherwise noted, the content of this page is licensed under the <a href=https://creativecommons.org/licenses/by/4.0/ >Creative Commons Attribution 4.0 License</a>. </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://avm99963.com target=_blank rel=noopener title=avm99963.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2m-5.15 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56M14.34 14H9.66c-.1-.66-.16-1.32-.16-2 0-.68.06-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2M12 19.96c-.83-1.2-1.5-2.53-1.91-3.96h3.82c-.41 1.43-1.08 2.76-1.91 3.96M8 8H5.08A7.923 7.923 0 0 1 9.4 4.44C8.8 5.55 8.35 6.75 8 8m-2.92 8H8c.35 1.25.8 2.45 1.4 3.56A8.008 8.008 0 0 1 5.08 16m-.82-2C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2M12 4.03c.83 1.2 1.5 2.54 1.91 3.97h-3.82c.41-1.43 1.08-2.77 1.91-3.97M18.92 8h-2.95a15.65 15.65 0 0 0-1.38-3.56c1.84.63 3.37 1.9 4.33 3.56M12 2C6.47 2 2 6.5 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2Z"/></svg> </a> <a href=https://github.com/avm99963 target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://twitter.com/avm99963 target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["content.code.copy"], "search": "../../../assets/javascripts/workers/search.e5c33ebb.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}}</script> <script src=../../../assets/javascripts/bundle.51d95adb.min.js></script> </body> </html>